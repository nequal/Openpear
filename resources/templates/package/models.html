<rt:extends href="../index.html" />

<rt:block name="stylesheet">
  <link rel="stylesheet" href="css/style.css" type="text/css" media="all" />
  <link rel="stylesheet" href="css/2column.css" type="text/css" media="all" />
  <link rel="stylesheet" href="css/package.css" type="text/css" media="all" />
  <link rel="stylesheet" href="css/print.css" type="text/css" media="print" />
</rt:block>

<rt:block name="title">{$t.trans('Packages')} \ Openpear</rt:block>

<rt:block name="topic_path">
  <div id="topic-path">
    <a href="{$t.url()}">{$t.trans('Home')}</a> &raquo; <a href="{$t.url('packages')}">{$t.trans('Packages')}</a>
  </div>
</rt:block>

<rt:block name="contents">
  <div class="frame-class" id="sub-title">
    <div class="container-class">
      <h2 class="inline fleft"><a href="{$t.url('packages')}">{$t.trans('Packages')}</a></h2>
      <form action="{$t.url('packages')}" id="sub-search-form" method="post" rt:ref="true">
        <input name="q" type="text" class="radius-2 darkgray" id="sub-search-q" value="package search" onfocus="this.value = ''; this.style.color = '#000';" />
        <input type="submit" class="radius-2" id="sub-search-submit" value="Search" />
      </form>
      <br class="clear" />
    </div> <!-- #container-s -->
  </div> <!-- .frame-class -->
  <div class="frame-class">
    <div class="container-class" id="sub-main">
      <rt:block name="sub_package_navi" />
      <div class="column1">
        <h3><rt:block name="subtitle">{$t.trans('Recent Released Packages')}</rt:block></h3>
        <table class="packages-table" rt:param="object_list" rt:var="object">
          <thead>
            <rt:block name="thead">
            <tr>
              <th>
                {$t.trans('Package')}
              </th>
              <th>
                {$t.trans('Date')}
              </th>
              <th>
                {$t.trans('Version')}
              </th>
              <th>
                {$t.trans('Description')}
              </th>
            </tr>
            </rt:block>
          </thead>
          <tbody>
            <rt:block name="package_row" />
          </tbody>
        </table>
        <rt:if param="{$paginator.has_range()}">
        <div class="pager">
          <ul>
            <rt:if param="{$paginator.is_first(10)}"><li> <a href="?{$paginator.query($paginator.first())}">&laquo; First</a> </li></rt:if>
            <?php
              for($counter=$paginator->which_first(10);$counter<=$paginator->which_last(10);$counter++):
            ?>
            <?php if ($paginator->current() == $counter): ?>
            <li class="current"> {$counter} </li>
            <?php else: ?>
            <li> <a href="?{$paginator.query($counter)}">{$counter}</a> </li>
            <?php endif; ?>
            <?php endfor; ?>
            <rt:if param="{$paginator.is_last(10)}"><li> <a href="?{$paginator.query($paginator.last())}">Last &raquo;</a> </li></rt:if>
          </ul>
        </div>
        </rt:if>
      </div>
    </div>
  </div>
</div>

</rt:block>
